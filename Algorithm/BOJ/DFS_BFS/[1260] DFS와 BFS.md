# [1260] DFSμ™€ BFS

| μ‹κ°„ μ ν• | λ©”λ¨λ¦¬ μ ν• | μ μ¶   | μ •λ‹µ  | λ§μ€ μ‚¬λ | μ •λ‹µ λΉ„μ¨ |
| :-------- | :---------- | :----- | :---- | :-------- | :-------- |
| 2 μ΄      | 128 MB      | 115111 | 40061 | 23037     | 33.096%   |

## λ¬Έμ 

κ·Έλν”„λ¥Ό DFSλ΅ νƒμƒ‰ν• κ²°κ³Όμ™€ BFSλ΅ νƒμƒ‰ν• κ²°κ³Όλ¥Ό μ¶λ ¥ν•λ” ν”„λ΅κ·Έλ¨μ„ μ‘μ„±ν•μ‹μ¤. λ‹¨, λ°©λ¬Έν•  μ μλ” μ •μ μ΄ μ—¬λ¬ κ°μΈ κ²½μ°μ—λ” μ •μ  λ²νΈκ°€ μ‘μ€ κ²ƒμ„ λ¨Όμ € λ°©λ¬Έν•κ³ , λ” μ΄μƒ λ°©λ¬Έν•  μ μλ” μ μ΄ μ—†λ” κ²½μ° μΆ…λ£ν•λ‹¤. μ •μ  λ²νΈλ” 1λ²λ¶€ν„° Nλ²κΉμ§€μ΄λ‹¤.

## μ…λ ¥

μ²«μ§Έ μ¤„μ— μ •μ μ κ°μ N(1 β‰¤ N β‰¤ 1,000), κ°„μ„ μ κ°μ M(1 β‰¤ M β‰¤ 10,000), νƒμƒ‰μ„ μ‹μ‘ν•  μ •μ μ λ²νΈ Vκ°€ μ£Όμ–΄μ§„λ‹¤. λ‹¤μ Mκ°μ μ¤„μ—λ” κ°„μ„ μ΄ μ—°κ²°ν•λ” λ‘ μ •μ μ λ²νΈκ°€ μ£Όμ–΄μ§„λ‹¤. μ–΄λ–¤ λ‘ μ •μ  μ‚¬μ΄μ— μ—¬λ¬ κ°μ κ°„μ„ μ΄ μμ„ μ μλ‹¤. μ…λ ¥μΌλ΅ μ£Όμ–΄μ§€λ” κ°„μ„ μ€ μ–‘λ°©ν–¥μ΄λ‹¤.

## μ¶λ ¥

μ²«μ§Έ μ¤„μ— DFSλ¥Ό μν–‰ν• κ²°κ³Όλ¥Ό, κ·Έ λ‹¤μ μ¤„μ—λ” BFSλ¥Ό μν–‰ν• κ²°κ³Όλ¥Ό μ¶λ ¥ν•λ‹¤. Vλ¶€ν„° λ°©λ¬Έλ μ μ„ μμ„λ€λ΅ μ¶λ ¥ν•λ©΄ λλ‹¤.



## π’΅ κµ¬ν„ μ•„μ΄λ””μ–΄

κΈ°λ³Έμ μΈ DFS & BFS λ¬Έμ μ΄λ‹¤. 

μ²΄ν¬ ν¬μΈνΈ

1. λ°©λ¬Έν•  μ μλ” μ •μ μ΄ μ—¬λ¬ κ°μΈ κ²½μ°μ—λ” μ •μ  λ²νΈκ°€ **μ‘μ€ κ²ƒ**μ„ λ¨Όμ € λ°©λ¬Έν•κ³ , λ” μ΄μƒ λ°©λ¬Έν•  μ μλ” μ μ΄ μ—†λ” κ²½μ° μΆ…λ£ν•λ‹¤.

   - μΈμ ‘ν–‰λ ¬ graph (μ΄κΈ°ν™” κ°’ False)

2. μ–΄λ–¤ λ‘ μ •μ  μ‚¬μ΄μ— **μ—¬λ¬ κ°μ κ°„μ„ μ΄ μμ„ μ μλ‹¤.** 

   - ν•λ² μ…λ ¥λ μ—°κ²°κ΄€κ³„κ°€ λ μ…λ ¥λ  μ μλ‹¤. 

3. μ…λ ¥μΌλ΅ μ£Όμ–΄μ§€λ” κ°„μ„ μ€ **μ–‘λ°©ν–¥**μ΄λ‹¤.

   - graph\[i][j] = graph\[j][i] = True

   



## π™†β€β™€οΈ λ‚΄ ν’€μ΄ (python)

1. μΈμ ‘ν–‰λ ¬ μ΄μ©

```python
def dfs(v):
  visited[v] = True
  print(v, end=' ')
  for i in range(1,n+1):
    if graph[v][i] and not visited[i]:
      dfs(i)
    
from collections import deque
def bfs(start):
  queue = deque([start])
  visited[start] = True
  while queue:
    v = queue.popleft()
    print(v, end=' ')
    for i in range(1,n+1):
      if graph[v][i] and not visited[i]:
        queue.append(i)
        visited[i] = True
    
n,m,v = map(int,input().split())
graph = [[False]*(n+1) for _ in range(n+1) ]
for _ in range(m):
  x, y = map(int,input().split())
  if not graph[x][y]:
    graph[x][y] = True
  if not graph[y][x]:
    graph[y][x] = True

visited = [False] * (n+1)
dfs(v)
print()
visited = [False] * (n+1)
bfs(v)
```



2. μΈμ ‘λ¦¬μ¤νΈ μ΄μ©

```python
def dfs(v):
  visited[v] = True
  print(v, end=' ')
  for i in graph[v]:
    if not visited[i]:
      dfs(i)

from collections import deque
def bfs(start):
  queue = deque([start])
  visited[start] = True
  while queue:
    v = queue.popleft()
    print(v, end=' ')
    for i in graph[v]:
      if not visited[i]:
        queue.append(i)
        visited[i] = True
    
n,m,v = map(int,input().split())
graph = [[] for _ in range(n+1)]

for _ in range(m):
  x, y = map(int,input().split())
  if y not in graph[x]:
    graph[x].append(y)
  if x not in graph[y]:
    graph[y].append(x)

for line in graph:
  line.sort()


visited = [False] * (n+1)
dfs(v)
print()
visited = [False] * (n+1)
bfs(v)

```

> 1. μΈμ ‘ ν–‰λ ¬ : λ©”λ¨λ¦¬ 39451KB, μ‹κ°„ 636ms
> 2. μΈμ ‘ λ¦¬μ¤νΈ : λ©”λ¨λ¦¬ 33296KB, μ‹κ°„ 484ms



## μΈμ ‘ ν–‰λ ¬ / μΈμ ‘ λ¦¬μ¤νΈ ν•λ² λ” μ •λ¦¬

1. μΈμ ‘ ν–‰λ ¬ 

   - μ¥μ 

     - κµ¬ν„μ΄ λ§¤μ° κ°„λ‹¨ν•λ‹¤.
     - λ‘ λ…Έλ“(i,j) κ°„μ μ—°κ²° μ—¬λ¶€ ν™•μΈμ„ μ„ν•΄μ„ graph\[i][j] μ κ°’λ§ ν™•μΈν•λ©΄ λλ‹¤. = **O(1) **

   - λ‹¨μ 

     - edge μ μμ™€λ” λ¬΄κ΄€ν•κ² **O(V^2)** μ κ³µκ°„λ³µμ΅λ„λ¥Ό κ°–λ”λ‹¤. 

       - κ·Έλν”„μ— μ΅΄μ¬ν•λ” λ¨λ“  edge λ¥Ό νμ•…ν•κΈ° μ„ν•΄μ„λ” **O(V^2)** μ μ‹κ°„ μ΄ μ†μ”λλ‹¤.

         > κ·Έλν”„μ— κ°„μ„ μ μκ°€ λ§μ€ **λ°€μ§‘ κ·Έλν”„(Dense Graph)**μ κ²½μ° μ λ¦¬ν•λ‹¤.

   

2. μΈμ ‘ λ¦¬μ¤νΈ

   - μ¥μ 

     - μΈμ ‘ ν–‰λ ¬κ³Ό λ‹¬λ¦¬ μ‹¤μ λ΅ μ—°κ²°λ λ…Έλ“μ— λ€ν• μ •λ³΄λ§ μ €μ¥ν•λ―€λ΅ **O(V+E)** μ κ³µκ°„λ³µμ΅λ„λ¥Ό κ°–λ”λ‹¤.

       - κ·Έλν”„μ— μ΅΄μ¬ν•λ” λ¨λ“  edge λ¥Ό νμ•…ν•κΈ° μ„ν•΄ **O(V+E)** μ μ‹κ°„ μ΄ μ†μ”λλ‹¤.

         > κ·Έλν”„μ— κ°„μ„ μ μκ°€ μ μ€ **ν¬μ† κ·Έλν”„(Sparse Graph)**μ κ²½μ° μ λ¦¬ν•λ‹¤.

     - λ‘ λ…Έλ“(i,j) κ°„μ μ—°κ²° μ—¬λ¶€λ¥Ό ν™•μΈν•κ³  μ‹¶μ„ κ²½μ°, graph[i] μ λ¦¬μ¤νΈλ¥Ό μνν•λ©° j μ›μ†κ°€ μ΅΄μ¬ν•λ”μ§€ ν™•μΈν•΄μ•Όν•λ‹¤. = O(v)

